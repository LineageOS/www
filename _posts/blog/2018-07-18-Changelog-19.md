---
layout: post
title: Changelog 19 - Absolutely AB, Rocking Recovery and Blackened Black
category: blog
excerpt: Changes since May 25th, 2018
author: jrizzoli
---

![hero]({{site.baseurl}}/images/2018-07-18/hero.png){: .blog_post_image }

## Welcome to LineageOS’ regularly irregular review, where we go over changes in the last few weeks

### Major changes since May 25th
* Trust interface has been added. Check out [our previous blog post](https://lineageos.org/Trust-me) to know more about it
* Added SMS limit warning to Trust: whenever a higher volume of SMS messages is sent, you will be asked to manually confirm that you want to send that message. This prevents malicious apps to send spam SMS draining your mobile credit.
* More granular Trust warnings controls
* You can now optionally force legacy apps to use the full screen size on 18:9 devices. This can be configured per app as it might break some apps not properly written.
* Optional black style: now you can make the dark UI style completely black
* Data toggle now has gotten the data usage view back
* Introduced Lineage Recovery (for A/B devices only at the moment - more on this later)
* Updater has been improved, especially on A/B devices support
* The su addon now supports A/B devices
* The addon.d backup / restore system now support A/B devices
* July security patches have been merged (15.1)
* June security patches have been merged (both 14.1 and 15.1 devices)


### A/B devices: a whole new world

#### Addon.d-v2

Many around the Android community have bashed A/B as being “hard to support” and “not developer friendly”, when in fact, properly implemented it is _easier to support_ and just as developer friendly.

Our Updater app has long supported the A/B process and as of this week it is now addon.d capable! This means you will be able to seamlessly update via the app, just as on stock, and retain your addon.d compatible mods such as GApps.

Currently, the only GApps compatible with this new addon.d system (deemed addon.d-v2) is MindTheGApps. OpenGApps addon.d script in its current form is too complicated for addon.d-v2 to handle (as A/B was never meant to handle this sort of thing), though we’ve reached out, and alerted them what needs to be done. If you wish to make your addon.d mod v2 compliant, please look [here](https://github.com/MindTheGapps/vendor_gapps/blob/master/addond_tail) for an example addon.d script, and [here](https://github.com/MindTheGapps/vendor_gapps/commit/74859c6634b8d8df7bc674847513a9686e0e67e7) for the flag to make it compatible. Any third party mods not flagged with the above will be ignored by addon.d-v2, and not backed up as they are incompatible.
Our Updater may at some point in the future even support streaming updates like Google devices do!


#### A/B Install Process

A/B’s new “payload” install format is a tad odd, as it installs to the opposite slot by default.

So, prepare yourselves, this is far from the standard install process you are all used to, but it will be the standard from here on out:

* Boot a custom recovery (either fastboot booting, or flashing and then booting will do)
* Wipe Data
* Flash LineageOS
* Reboot to Recovery (it is important you reboot to the installed recovery, which will be Lineage Recovery - more on this one later - unless you hand flashed another, which is not recommended for A/B devices)
* Install whatever addon.d-v2 compliant mods you’d like to
* Reboot
* Enjoy!

If you attempt to install GApps/Mods to system in the same boot as LineageOS, thanks to verity/slot logic, none of it will persist. You *need* to reboot between flashing the ROM and any mods.

Worthwhile note, if at any point you wish to go back a build, you can always run “fastboot set_active other” and jump back to the last other slot, which houses the last version you had.

#### Lineage Recovery

A/B devices have the recovery image built in into the boot image (as those old xperia devices for those of you who remember). This means that there’s no recovery partition and recovery will have to be included at build time into the os.

So we created the Lineage Recovery: this is our brand new recovery that supports both A/B and non A/B devices. It’s based upon AOSP recovery but with many improvements needed for the world of custom roms. It’s simple, light and secure: in Lineage recovery SELinux is in enforcing mode, limiting each process’ capabilities.
Due to incompatibilities issues with some OEM’s encryption implementations, as many of you have experienced with other recoveries too, and to reduce attack surface, whenever your device is encrypted the internal storage won’t be available for access at all. To install packages you will be required to sideload using adb. Through adb you will also be able to perform backups and restore them, using the `adb backup` and `adb restore` commands too.

This recovery will be installed by default on all the A/B devices and you won’t be able to change it, but given that these are A/B devices, you won’t need to boot into the recovery that much. Stay tuned for non A/B devices release.

### Leadership Changes

After roughly two years with Lineage, and another seven with CyanogenMod, we're sad to announce ciwrl is stepping away from the project to spend more time offline. We wish him the best!

We're also glad to announce that the current directors group have voted haggertk in as the ninth director. Welcome!

### Engineering

We have published our first engineering post about [telephony](TODO). Go and check it out if you’re interested on how your android phone does the phone stuffs!

### Build roster

Added 15.1 devices

* [Asus Zenfone 2 Laser (720p) (Z00L)](https://wiki.lineageos.org/devices/Z00L) - _maintainer: theimpulson_
* [Asus Zenfone 2 Laser/Selfie (1080p) (Z00T)](https://wiki.lineageos.org/devices/Z00T) - _maintainer: theimpulson_
* [Lenovo P2 (kuntao)](https://wiki.lineageos.org/devices/kuntao) - moved from 14.1
* [Motorola Moto Z2 Force (nash)](https://wiki.lineageos.org/devices/nash) - _maintainer: npjohnson_
* [OnePlus One (bacon)](https://wiki.lineageos.org/devices/bacon) - moved from 14.1
* [Oppo Find 7a and 7s (find7)](https://wiki.lineageos.org/devices/find7) - moved from 14.1
* [Oppo R5 (r5)](https://wiki.lineageos.org/devices/r5) - moved from 14.1
* [Oppo R7s (r7sf)](https://wiki.lineageos.org/devices/r7sf) - moved from 14.1
* [Oppo R7 plus (r7plus)](https://wiki.lineageos.org/devices/r7plus) - moved from 14.1
* Samsung Galaxy S5 ([klte](https://wiki.lineageos.org/devices/klte), [klteactivexx](https://wiki.lineageos.org/devices/klteactivexx), [klteduo](https://wiki.lineageos.org/devices/klteduo), [kltechn](https://wiki.lineageos.org/devices/kltechn), [kltechnduo](https://wiki.lineageos.org/devices/kltechnduo), [kltedv](https://wiki.lineageos.org/devices/kltedv), [kltekdi](https://wiki.lineageos.org/devices/kltekdi), [kltekor](https://wiki.lineageos.org/devices/kltekor), [kccat6](https://wiki.lineageos.org/devices/kccat6) and [lentislte](https://wiki.lineageos.org/devices/lentislte)) - moved from 14.1
* [Sony Xperia XA2 (pioneer)](https://wiki.lineageos.org/devices/pioneer) - _maintainer: Luk1337_
* [Wingtech Redmi 2 (wt88047)](https://wiki.lineageos.org/devices/wt88047) - _maintainer: nicknitewolf_
* [Xiaomi Mi A1](https://wiki.lineageos.org/devices/tissot) - _maintainer: TheScarastic_
* [Xiaomi Mi Mix (lithium)](https://wiki.lineageos.org/devices/lithium) - moved from 14.1

Removed 15.1 devices:

* [HTC One A9 (hiae)](https://wiki.lineageos.org/devices/hiae)

Added 14.1 devices

* [Huawei Ascend Mate 2 4G (mt2)](https://wiki.lineageos.org/devices/mt2) - maintainer: _tdm_
* Samsung Galaxy [S7](https://wiki.lineageos.org/devices/herolte) and [S7 Edge](https://wiki.lineageos.org/devices/hero2lte) - maintainers: _DavisNT,  ivanmeler_


Removed 14.1 devices

* Samsung Galaxy S4 Mini [3g](https://wiki.lineageos.org/devices/serrano3gxx), [Dual SIM](https://wiki.lineageos.org/devices/serranodsdd) and [LTE](https://wiki.lineageos.org/devices/serranoltexx) variants


